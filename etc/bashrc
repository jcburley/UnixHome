#!/bin/bash

# First arg is "true" if being run from .bash_profile.

ALIASFILE=${UNIXHOME}/etc/aliases
[[ -r ${ALIASFILE} ]] && source ${ALIASFILE}

# Load all autocompletions if any are installed
AUTOCOMPDIR=${UNIXHOME}/etc/bash_completion.d/
if [ -d "${AUTOCOMPDIR}" ]; then
    for F in "${AUTOCOMPDIR}"*; do
        if [ -f "${F}" ]; then
            source "${F}"
        fi
    done
fi

# Get git goodness in prompts by first defining __git_ps1.
[ -f ${UNIXHOME}/etc/git-prompt.sh ] && source ${UNIXHOME}/etc/git-prompt.sh

# If .bash_profile is calling this script, it'll afterwards overwrite
# these two vars, so the "bash" shell doesn't display $SHLVL.
export PS1='[${SHLVL}] [\u@\h \W$(__git_ps1 " (%s)")]\$ '
export PROMPT_COMMAND='__git_ps1 "[\${SHLVL}] \u@\h:\w" "\\\$ "'
